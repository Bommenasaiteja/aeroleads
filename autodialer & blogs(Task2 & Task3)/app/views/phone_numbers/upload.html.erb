<div class="row">
  <div class="col-md-8">
    <h1>üì§ Upload Phone Numbers</h1>
    <p class="text-muted">Upload phone numbers using text input or CSV file for bulk calling.</p>

    <!-- Text Input Method -->
    <div class="card mb-4">
      <div class="card-header">
        <h5>Method 1: Text Input</h5>
      </div>
      <div class="card-body">
        <%= form_with url: upload_phone_numbers_path, method: :post, local: true do |f| %>
          <div class="mb-3">
            <%= f.label :phone_numbers_text, "Phone Numbers (one per line or comma-separated):", class: "form-label" %>
            <%= f.text_area :phone_numbers_text, 
                rows: 8, 
                placeholder: "1800-123-4567\n1800-234-5678\n1800-345-6789\n\nOr: 1800-123-4567, 1800-234-5678, 1800-345-6789", 
                class: "form-control" %>
            <div class="form-text">
              <strong>For testing, please use:</strong>
              <ul class="mt-2 mb-0">
                <li>1800 toll-free numbers</li>
                <li>Your own phone numbers</li>
                <li>Twilio test numbers like +15005550006</li>
              </ul>
            </div>
          </div>
          
          <div class="mb-3">
            <%= f.label :default_name, "Default Name (optional):", class: "form-label" %>
            <%= f.text_field :default_name, 
                placeholder: "e.g., Marketing Campaign #1", 
                class: "form-control" %>
            <div class="form-text">This name will be assigned to all uploaded numbers</div>
          </div>
          
          <%= f.submit "üì§ Upload Numbers", class: "btn btn-primary" %>
        <% end %>
      </div>
    </div>

    <!-- CSV Upload Method -->
    <div class="card mb-4">
      <div class="card-header">
        <h5>Method 2: CSV File Upload</h5>
      </div>
      <div class="card-body">
        <%= form_with url: upload_phone_numbers_path, method: :post, local: true, multipart: true do |f| %>
          <div class="mb-3">
            <%= f.label :csv_file, "CSV File:", class: "form-label" %>
            <%= f.file_field :csv_file, 
                accept: ".csv", 
                class: "form-control" %>
            <div class="form-text">
              CSV should have columns: <code>number</code>, <code>name</code> (optional)
              <br>
              Example: <code>number,name</code><br>
              <code>1800-123-4567,Customer A</code><br>
              <code>1800-234-5678,Customer B</code>
            </div>
          </div>
          
          <%= f.submit "üìÅ Upload CSV", class: "btn btn-success" %>
        <% end %>
      </div>
    </div>

    <!-- Back Link -->
    <div class="mb-3">
      <%= link_to "‚Üê Back to Phone Numbers", phone_numbers_path, class: "btn btn-outline-secondary" %>
    </div>
  </div>

  <div class="col-md-4">
    <!-- Upload Tips -->
    <div class="card">
      <div class="card-header">
        <h5>üìã Upload Tips</h5>
      </div>
      <div class="card-body">
        <h6>Phone Number Formats</h6>
        <ul class="small">
          <li>1800-123-4567</li>
          <li>+1-800-123-4567</li>
          <li>18001234567</li>
          <li>(800) 123-4567</li>
        </ul>
        
        <h6 class="mt-3">Safety Guidelines</h6>
        <div class="alert alert-warning small">
          <strong>‚ö†Ô∏è Important:</strong>
          <ul class="mb-0 mt-2">
            <li>Only call numbers you own or have permission to call</li>
            <li>Use test numbers during development</li>
            <li>Respect do-not-call registries</li>
            <li>This is a demo application</li>
          </ul>
        </div>

        <h6 class="mt-3">Test Numbers</h6>
        <div class="small">
          <p><strong>Safe for testing:</strong></p>
          <ul class="mb-0">
            <li>+15005550006 (Twilio test)</li>
            <li>1800 toll-free numbers</li>
            <li>Your personal numbers</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Current Stats -->
    <div class="card mt-4">
      <div class="card-header">
        <h5>üìä Current Statistics</h5>
      </div>
      <div class="card-body">
        <div class="row text-center">
          <div class="col-6">
            <h4><%= PhoneNumber.count %></h4>
            <small>Total Numbers</small>
          </div>
          <div class="col-6">
            <h4><%= PhoneNumber.pending.count %></h4>
            <small>Ready to Call</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>